<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4f46e5">
    <title>Êô∫ËÉΩËÆ∞Ë¥¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            overflow-x: hidden;
        }
        
        body { 
            margin: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #f3f4f6;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .login-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #dbeafe 0%, #c7d2fe 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }
        
        .login-icon {
            width: 64px;
            height: 64px;
            background: #4f46e5;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }
        
        h1 {
            font-size: 28px;
            color: #1f2937;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #6b7280;
            margin-bottom: 30px;
        }
        
        .input-group {
            position: relative;
            margin-bottom: 20px;
        }
        
        input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            transition: border 0.3s;
        }
        
        input:focus {
            border-color: #4f46e5;
        }
        
        .input-with-icon {
            padding-right: 50px;
        }
        
        .eye-btn {
            position: absolute;
            right: 12px;
            top: 12px;
            background: none;
            border: none;
            cursor: pointer;
            color: #9ca3af;
        }
        
        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #4f46e5;
            color: white;
        }
        
        .btn-primary:hover {
            background: #4338ca;
        }
        
        .btn-green {
            background: #10b981;
            color: white;
        }
        
        .btn-green:hover {
            background: #059669;
        }
        
        .btn-red {
            background: #ef4444;
            color: white;
        }
        
        .btn-red:hover {
            background: #dc2626;
        }
        
        .btn-orange {
            background: #f97316;
            color: white;
        }
        
        .header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 60px 24px 24px 24px;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .content {
            padding: 20px;
            padding-bottom: 90px;
            flex: 1;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 16px;
        }
        
        .asset-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .asset-amount {
            font-size: 36px;
            font-weight: bold;
            color: #1f2937;
        }
        
        .pool-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .sub-pool-grid {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 8px;
        }
        
        .sub-pool-grid::-webkit-scrollbar {
            height: 4px;
        }
        
        .sub-pool-grid::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 2px;
        }
        
        .pool-card {
            padding: 24px;
            border-radius: 20px;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .pool-green {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        }
        
        .pool-blue {
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
        }
        
        .pool-title {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .pool-amount {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .pool-subtitle {
            font-size: 12px;
            opacity: 0.75;
        }
        
        .sub-pool-card {
            padding: 16px;
            border-radius: 16px;
            color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-width: 140px;
            flex-shrink: 0;
        }
        
        .sub-pool-vwce {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .sub-pool-cndx {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        }
        
        .sub-pool-btc {
            background: linear-gradient(135deg, #6ee7b7 0%, #34d399 100%);
        }
        
        .sub-pool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .sub-pool-name {
            font-size: 14px;
            font-weight: 600;
            opacity: 0.9;
        }
        
        .sub-pool-percent {
            font-size: 11px;
            opacity: 0.8;
        }
        
        .sub-pool-amount {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .sub-pool-stats {
            font-size: 10px;
            opacity: 0.85;
            line-height: 1.6;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 16px;
        }
        
        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .icon-green {
            background: #d1fae5;
            color: #10b981;
        }
        
        .icon-red {
            background: #fee2e2;
            color: #ef4444;
        }
        
        .icon-orange {
            background: #fed7aa;
            color: #f97316;
        }
        
        .transaction-info {
            flex: 1;
        }
        
        .transaction-desc {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .transaction-date {
            font-size: 12px;
            color: #9ca3af;
        }
        
        .transaction-amount {
            font-weight: bold;
            font-size: 16px;
        }
        
        .amount-green {
            color: #10b981;
        }
        
        .amount-red {
            color: #ef4444;
        }
        
        .amount-orange {
            color: #f97316;
        }
        
        .type-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .type-btn {
            padding: 16px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .type-btn.active-green {
            background: #10b981;
            color: white;
            box-shadow: 0 4px 10px rgba(16, 185, 129, 0.3);
        }
        
        .type-btn.active-red {
            background: #ef4444;
            color: white;
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
        }
        
        .type-btn.inactive {
            background: #f3f4f6;
            color: #6b7280;
        }
        
        .label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .amount-input-wrapper {
            position: relative;
        }
        
        .amount-symbol {
            position: absolute;
            left: 16px;
            top: 16px;
            font-size: 20px;
            color: #9ca3af;
        }
        
        .amount-input {
            padding-left: 40px;
            font-size: 20px;
        }
        
        select {
            width: 100%;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            outline: none;
            background: white;
        }
        
        .info-box {
            background: #dbeafe;
            border: 1px solid #93c5fd;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
        }
        
        .info-text {
            font-size: 14px;
            color: #1e40af;
            line-height: 1.6;
        }
        
        .quick-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .quick-btn {
            padding: 10px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: #374151;
        }
        
        .quick-btn:active {
            transform: scale(0.95);
        }
        
        .quick-btn-vwce {
            border-color: #10b981;
            color: #10b981;
        }
        
        .quick-btn-vwce:hover {
            background: #10b981;
            color: white;
        }
        
        .quick-btn-vwce.expense-mode {
            border-color: #ef4444;
            color: #ef4444;
        }
        
        .quick-btn-vwce.expense-mode:hover {
            background: #ef4444;
            color: white;
        }
        
        .quick-btn-cndx {
            border-color: #34d399;
            color: #059669;
        }
        
        .quick-btn-cndx:hover {
            background: #34d399;
            color: white;
        }
        
        .quick-btn-cndx.expense-mode {
            border-color: #f87171;
            color: #dc2626;
        }
        
        .quick-btn-cndx.expense-mode:hover {
            background: #f87171;
            color: white;
        }
        
        .quick-btn-btc {
            border-color: #6ee7b7;
            color: #047857;
        }
        
        .quick-btn-btc:hover {
            background: #6ee7b7;
            color: white;
        }
        
        .quick-btn-btc.expense-mode {
            border-color: #fca5a5;
            color: #b91c1c;
        }
        
        .quick-btn-btc.expense-mode:hover {
            background: #fca5a5;
            color: white;
        }c {
            border-color: #6ee7b7;
            color: #047857;
        }
        
        .quick-btn-btc:hover {
            background: #6ee7b7;
            color: white;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            padding: 8px;
            gap: 4px;
        }
        
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            border: none;
            background: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: #9ca3af;
        }
        
        .nav-btn.active {
            background: #eef2ff;
            color: #4f46e5;
        }
        
        .nav-label {
            font-size: 11px;
            margin-top: 4px;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #9ca3af;
        }
        
        .delete-btn {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            padding: 8px;
            margin-left: 8px;
        }
        
        .delete-btn:hover {
            color: #ef4444;
        }
        
        .transaction-right {
            display: flex;
            align-items: center;
        }
        
        .history-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .history-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .history-left {
            display: flex;
            gap: 12px;
            flex: 1;
        }
        
        .history-details {
            flex: 1;
        }
        
        .history-title {
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .history-meta {
            font-size: 12px;
            color: #9ca3af;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
<template>
  <div class="app">
    <div v-if="!isLoggedIn" class="login-page">
      <div class="login-card">
        <div class="login-icon" v-html="icons.lock"></div>
        <h1>Êô∫ËÉΩËÆ∞Ë¥¶</h1>
        <p class="subtitle">ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÁôªÂΩï</p>

        <div class="input-group">
          <input
            :type="showPassword ? 'text' : 'password'"
            v-model="password"
            placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å"
            class="input-with-icon"
            @keyup.enter="handleLogin"
          />
          <button class="eye-btn" @click="togglePassword" v-html="showPassword ? icons.eyeOff : icons.eye"></button>
        </div>

        <button class="btn btn-primary" @click="handleLogin">ÁôªÂΩï</button>
        <p class="hint">ÈªòËÆ§ÂØÜÁ†Å: 123456</p>
      </div>
    </div>

    <div v-else class="container">
      <div class="header">
        <h1>{{ pageTitle }}</h1>
      </div>

      <div class="content">
        <!-- HOME -->
        <section v-if="page === 'home'">
          <div class="card">
            <div class="asset-card"><span class="muted">ÊÄªËµÑ‰∫ß</span></div>
            <div class="asset-amount">‚Ç¨{{ totalAssets.toFixed(2) }}</div>
          </div>

          <div class="pool-grid">
            <div class="pool-card pool-green">
              <div class="pool-title">ÂèëÂ±ïÈáë</div>
              <div class="pool-amount">‚Ç¨{{ pools.development.total.toFixed(2) }}</div>
              <div class="pool-subtitle">90%Êî∂ÂÖ•</div>
            </div>

            <div class="pool-card pool-blue">
              <div class="pool-title">ÂèØÊîØÈÖçÈáë</div>
              <div class="pool-amount">‚Ç¨{{ pools.discretionary.total.toFixed(2) }}</div>
              <div class="pool-subtitle">10%Êî∂ÂÖ•</div>
            </div>
          </div>

          <div class="card">
            <h3 class="card-title">ÂèëÂ±ïÈáëËµÑ‰∫ßÂàÜÂ∏É</h3>
            <div class="sub-pool-grid">
              <div v-for="(sp, key) in pools.development.subPools" :key="key" class="sub-pool-card" :class="subPoolClass(key)">
                <div class="sub-pool-header">
                  <div class="sub-pool-name">{{ key }}</div>
                  <div class="sub-pool-percent">{{ Math.round(sp.ratio * 100) }}%</div>
                </div>
                <div class="sub-pool-amount">‚Ç¨{{ sp.amount.toFixed(2) }}</div>
                <div class="sub-pool-stats">
                  Êî∂ÂÖ•: ‚Ç¨{{ stats[key].totalIncome.toFixed(2) }}<br />
                  ÊîØÂá∫: ‚Ç¨{{ stats[key].totalExpense.toFixed(2) }}<br />
                  Áõà‰∫è: ‚Ç¨{{ (stats[key].totalIncome - stats[key].totalExpense).toFixed(2) }}
                </div>
              </div>
            </div>

            <div class="summary-line">
              ÊÄªÊäïËµÑ: ‚Ç¨{{ totalSubPools.toFixed(2) }} | Áé∞Èáë‰ΩôÈ¢ù: ‚Ç¨{{ (pools.development.total - totalSubPools).toFixed(2) }}
            </div>
          </div>

          <div class="card">
            <h3 class="card-title">ÊúÄËøë‰∫§Êòì</h3>
            <div v-if="transactions.length === 0" class="empty-state">ÊöÇÊó†‰∫§ÊòìËÆ∞ÂΩï</div>

            <div v-else>
              <div v-for="tx in recentTransactions" :key="tx.id" class="transaction-item">
                <div class="transaction-left">
                  <div class="transaction-icon" :class="iconColor(tx)"> <span v-html="iconFor(tx)"></span> </div>
                  <div class="transaction-info">
                    <div class="transaction-desc">{{ tx.description }}</div>
                    <div class="transaction-date">{{ tx.date }}</div>
                  </div>
                </div>
                <div class="transaction-amount" :class="amountColor(tx)">{{ signFor(tx) }}‚Ç¨{{ tx.amount.toFixed(2) }}</div>
              </div>
            </div>
          </div>
        </section>

        <!-- ADD -->
        <section v-if="page === 'add'">
          <div class="card">
            <div class="type-selector">
              <button :class="['type-btn', recordType === 'income' ? 'active-green' : 'inactive']" @click="setRecordType('income')">Êî∂ÂÖ•</button>
              <button :class="['type-btn', recordType === 'expense' ? 'active-red' : 'inactive']" @click="setRecordType('expense')">ÊîØÂá∫</button>
            </div>

            <div class="quick-block">
              <label class="label">Âø´Êç∑Êìç‰Ωú</label>
              <div class="quick-buttons">
                <button v-for="a in ['VWCE','CNDX','BTC']" :key="a" :class="['quick-btn', 'quick-btn-' + a.toLowerCase()]" @click="fillQuick(a)">
                  {{ recordType === 'income' ? 'ÂçñÂá∫' : '‰π∞ÂÖ•' }} {{ a }}
                </button>
              </div>
            </div>

            <div class="amount-block">
              <label class="label">ÈáëÈ¢ù</label>
              <div class="amount-input-wrapper">
                <span class="amount-symbol">‚Ç¨</span>
                <input v-model.number="amount" type="number" id="amountInput" class="amount-input" placeholder="0.00" />
              </div>
            </div>

            <div class="desc-block">
              <label class="label">ÊèèËø∞</label>
              <input v-model="description" type="text" id="descInput" :placeholder="recordType === 'income' ? 'Êî∂ÂÖ•Êù•Ê∫ê' : 'ÊîØÂá∫Áî®ÈÄî'" />
            </div>

            <div v-if="recordType === 'expense'" class="pool-select">
              <label class="label">‰ΩøÁî®ËµÑÈáëÊ±†</label>
              <select v-model="selectedPool">
                <option value="discretionary">ÂèØÊîØÈÖçÈáë (‚Ç¨{{ pools.discretionary.total.toFixed(2) }})</option>
                <option value="development">ÂèëÂ±ïÈáë (‚Ç¨{{ pools.development.total.toFixed(2) }})</option>
              </select>
            </div>

            <div v-if="recordType === 'income'" class="info-box">
              <p class="info-text">
                üí° Êî∂ÂÖ•Â∞ÜËá™Âä®ÂàÜÈÖçÔºö<br />
                ‚Ä¢ 90% ‚Üí ÂèëÂ±ïÈáë (VWCE 60%, CNDX 35%, BTC 5%)<br />
                ‚Ä¢ 10% ‚Üí ÂèØÊîØÈÖçÈáë
              </p>
            </div>

            <button :class="['btn', recordType === 'income' ? 'btn-green' : 'btn-red']" @click="handleAddRecord">Ê∑ªÂä†{{ recordType === 'income' ? 'Êî∂ÂÖ•' : 'ÊîØÂá∫' }}</button>
          </div>
        </section>

        <!-- HISTORY -->
        <section v-if="page === 'history'">
          <div v-if="transactions.length === 0" class="empty-state">ÊöÇÊó†‰∫§ÊòìËÆ∞ÂΩï</div>

          <div v-else>
            <div v-for="tx in transactions" :key="tx.id" class="history-card">
              <div class="history-content">
                <div class="history-left">
                  <div class="transaction-icon" :class="iconColor(tx)"><span v-html="iconFor(tx)"></span></div>
                  <div class="history-details">
                    <div class="history-title">{{ tx.description }}</div>
                    <div class="transaction-date">{{ tx.date }}</div>
                    <div class="history-meta">{{ metaFor(tx) }}</div>
                  </div>
                </div>
                <div class="transaction-right">
                  <div class="transaction-amount" :class="amountColor(tx)">{{ signFor(tx) }}‚Ç¨{{ tx.amount.toFixed(2) }}</div>
                  <button class="delete-btn" @click="deleteTransaction(tx.id)" v-html="icons.trash"></button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section v-if="page === 'settings'">
          <div class="card">
            <h3 class="card-title">ËµÑ‰∫ß‰øÆÊ≠£</h3>
            <div class="form-row">
              <select v-model="correctionPool">
                <option value="development">ÂèëÂ±ïÈáë</option>
                <option value="discretionary">ÂèØÊîØÈÖçÈáë</option>
              </select>
            </div>
            <div class="form-row">
              <input v-model.number="correctionAmount" type="number" placeholder="ËæìÂÖ•‰øÆÊ≠£ÂêéÁöÑÈáëÈ¢ù" />
            </div>
            <button class="btn btn-orange" @click="handleCorrection">ÊâßË°å‰øÆÊ≠£</button>
          </div>

          <div class="card">
            <h3 class="card-title">‰øÆÊîπÂØÜÁ†Å</h3>
            <div class="form-row">
              <input v-model="newPassword" type="password" placeholder="ËæìÂÖ•Êñ∞ÂØÜÁ†Å" />
            </div>
            <div class="form-row">
              <input v-model="confirmPassword" type="password" placeholder="Á°ÆËÆ§Êñ∞ÂØÜÁ†Å" />
            </div>
            <button class="btn btn-primary" @click="handleChangePassword"><span v-html="icons.save"></span> ‰øùÂ≠òÂØÜÁ†Å</button>
          </div>

          <div class="card">
            <h3 class="card-title">Êï∞ÊçÆ</h3>
            <div class="form-row">
              <button class="btn" @click="exportData">ÂØºÂá∫Êï∞ÊçÆ</button>
              <input ref="importFile" type="file" style="display:none" @change="importData" />
              <button class="btn" @click="triggerImport">ÂØºÂÖ•Êï∞ÊçÆ</button>
            </div>
            <div class="form-row" style="margin-top:12px;">
              <button class="btn btn-red" @click="handleLogout">ÈÄÄÂá∫ÁôªÂΩï</button>
            </div>
          </div>
        </section>
      </div>

      <div class="bottom-nav">
        <button :class="['nav-btn', page === 'add' && recordType === 'income' ? 'active' : '']" @click="() => { setPage('add'); setRecordType('income'); }" v-html="icons.plus"><span class="nav-label">Êî∂ÂÖ•</span></button>
        <button :class="['nav-btn', page === 'add' && recordType === 'expense' ? 'active' : '']" @click="quickExpense" v-html="icons.minus"><span class="nav-label">ÊîØÂá∫</span></button>
        <button :class="['nav-btn', page === 'home' ? 'active' : '']" @click="setPage('home')" v-html="icons.home"><span class="nav-label">È¶ñÈ°µ</span></button>
        <button :class="['nav-btn', page === 'history' ? 'active' : '']" @click="setPage('history')" v-html="icons.history"><span class="nav-label">ÂéÜÂè≤</span></button>
        <button :class="['nav-btn', page === 'settings' ? 'active' : '']" @click="setPage('settings')" v-html="icons.settings"><span class="nav-label">ËÆæÁΩÆ</span></button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { reactive, computed, ref, onMounted } from 'vue';

// --- icons (kept inline for offline-friendly single-file app) ---
const icons = reactive({
  home: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="M9 22V12h6v10"/></svg>',
  plus: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/></svg>',
  minus: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/></svg>',
  history: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/></svg>',
  settings: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>',
  eye: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>',
  eyeOff: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1l22 22"/></svg>',
  lock: '<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',
  up: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 6l-9.5 9.5-5-5L1 18"/><path d="M17 6h6v6"/></svg>',
  down: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 18l-9.5-9.5-5 5L1 6"/><path d="M17 18h6v-6"/></svg>',
  edit: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 3a2.828 2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>',
  trash: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>',
  save: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><path d="M17 21v-8H7v8"/><path d="M7 3v5h8"/></svg>'
});

// --------------- reactive app state ----------------
const page = ref('home');
const isLoggedIn = ref(false);
const password = ref('');
const showPassword = ref(false);

const recordType = ref('income');
const amount = ref(null);
const description = ref('');
const selectedPool = ref('discretionary');

const newPassword = ref('');
const confirmPassword = ref('');

const correctionPool = ref('development');
const correctionAmount = ref(null);

const importFile = ref(null);

// structured pools and stats for easier extension
const pools = reactive({
  development: {
    total: 0,
    subPools: {
      VWCE: { ratio: 0.6, amount: 0 },
      CNDX: { ratio: 0.35, amount: 0 },
      BTC: { ratio: 0.05, amount: 0 }
    }
  },
  discretionary: {
    total: 0
  }
});

const stats = reactive({
  VWCE: { totalIncome: 0, totalExpense: 0 },
  CNDX: { totalIncome: 0, totalExpense: 0 },
  BTC: { totalIncome: 0, totalExpense: 0 }
});

const transactions = ref([]);

// stored hash (keeps default to hashed '123456')
const storedHash = ref('');

// utils
function round2(n) {
  return Math.round((n + Number.EPSILON) * 100) / 100;
}

function saveAll() {
  const payload = {
    pools: JSON.parse(JSON.stringify(pools)),
    stats: JSON.parse(JSON.stringify(stats)),
    transactions: transactions.value,
    storedHash: storedHash.value
  };
  localStorage.setItem('smartledger_v1', JSON.stringify(payload));
}

function loadAll() {
  try {
    const raw = localStorage.getItem('smartledger_v1');
    if (raw) {
      const data = JSON.parse(raw);
      // restore pools
      Object.assign(pools, data.pools || pools);
      Object.assign(stats, data.stats || stats);
      transactions.value = data.transactions || [];
      if (data.storedHash) storedHash.value = data.storedHash;
    } else {
      // initial default password: '123456'
      hashString('123456').then(h => storedHash.value = h);
    }
  } catch (e) {
    console.warn('load failed', e);
  }
}

async function hashString(str) {
  // Use SubtleCrypto if available, fallback naive reversible encoding
  if (window.crypto && crypto.subtle) {
    const enc = new TextEncoder().encode(str);
    const digest = await crypto.subtle.digest('SHA-256', enc);
    return Array.from(new Uint8Array(digest)).map(b => b.toString(16).padStart(2,'0')).join('');
  }
  // fallback
  return btoa(unescape(encodeURIComponent(str))).split('').reverse().join('');
}

function verifyPassword(input) {
  return hashString(input).then(h => h === storedHash.value);
}

// computed
const totalSubPools = computed(() => {
  return Object.values(pools.development.subPools).reduce((s, p) => s + p.amount, 0);
});
const totalAssets = computed(() => round2(pools.development.total + pools.discretionary.total));
const recentTransactions = computed(() => transactions.value.slice(0,5));
const pageTitle = computed(() => {
  if (page.value === 'home') return 'ËµÑ‰∫ßÊÄªËßà';
  if (page.value === 'add') return recordType.value === 'income' ? 'Ê∑ªÂä†Êî∂ÂÖ•' : 'Ê∑ªÂä†ÊîØÂá∫';
  if (page.value === 'history') return '‰∫§ÊòìÂéÜÂè≤';
  return 'ËÆæÁΩÆ';
});

// lifecycle
onMounted(() => {
  loadAll();
});

// behaviors
function togglePassword() { showPassword.value = !showPassword.value; }

async function handleLogin() {
  if (!password.value) return alert('ËØ∑ËæìÂÖ•ÂØÜÁ†Å');
  const ok = await verifyPassword(password.value);
  if (ok) {
    isLoggedIn.value = true;
    password.value = '';
  } else {
    alert('ÂØÜÁ†ÅÈîôËØØ');
  }
}

function setPage(p) { page.value = p; }
function setRecordType(t) { recordType.value = t; }
function quickExpense() { recordType.value = 'expense'; page.value = 'add'; }
function fillQuick(asset) { description.value = `${recordType.value === 'income' ? 'ÂçñÂá∫' : '‰π∞ÂÖ•'} ${asset}`; setTimeout(() => document.getElementById('amountInput')?.focus(), 50); }

function iconFor(tx) {
  if (tx.type === 'income') return icons.up;
  if (tx.type === 'correction') return icons.edit;
  return icons.down;
}
function iconColor(tx) { return tx.type === 'income' ? 'icon-green' : tx.type === 'correction' ? 'icon-orange' : 'icon-red'; }
function amountColor(tx) { return tx.type === 'income' ? 'amount-green' : tx.type === 'correction' ? 'amount-orange' : 'amount-red'; }
function signFor(tx) { return tx.type === 'income' ? '+' : tx.type === 'correction' ? '=' : '-'; }
function metaFor(tx) {
  if (tx.type === 'income') return 'Ëá™Âä®ÂàÜÈÖç';
  if (tx.type === 'expense') return tx.pool === 'development' ? 'ÂèëÂ±ïÈáë' : 'ÂèØÊîØÈÖçÈáë';
  return tx.pool === 'development' ? 'ÂèëÂ±ïÈáë‰øÆÊ≠£' : 'ÂèØÊîØÈÖçÈáë‰øÆÊ≠£';
}

function subPoolClass(key) {
  return key.toLowerCase() === 'vwce' ? 'sub-pool-vwce' : key.toLowerCase() === 'cndx' ? 'sub-pool-cndx' : 'sub-pool-btc';
}

function validateAmount(val) {
  if (val === null || val === undefined) return false;
  const n = Number(val);
  return Number.isFinite(n) && n > 0;
}

function pushTransaction(tx) {
  transactions.value.unshift(tx);
  // keep recent length reasonable
  if (transactions.value.length > 1000) transactions.value.pop();
  saveAll();
}

function applyIncome(amountNum, desc, assetType) {
  const devAmount = round2(amountNum * 0.9);
  const discAmount = round2(amountNum * 0.1);
  pools.development.total = round2(pools.development.total + devAmount);
  pools.discretionary.total = round2(pools.discretionary.total + discAmount);

  // split to subpools
  Object.keys(pools.development.subPools).forEach(k => {
    const ratio = pools.development.subPools[k].ratio;
    const add = round2(devAmount * ratio);
    pools.development.subPools[k].amount = round2(pools.development.subPools[k].amount + add);
    if (assetType === k.toLowerCase()) stats[k].totalIncome = round2(stats[k].totalIncome + amountNum);
  });
}

function applyExpense(amountNum, poolName, assetType) {
  if (poolName === 'development') {
    if (pools.development.total < amountNum) return 'development_insufficient';
    pools.development.total = round2(pools.development.total - amountNum);
    if (assetType) {
      const key = assetType.toUpperCase();
      if (pools.development.subPools[key].amount < amountNum) return 'subpool_insufficient';
      pools.development.subPools[key].amount = round2(pools.development.subPools[key].amount - amountNum);
      stats[key].totalExpense = round2(stats[key].totalExpense + amountNum);
    }
  } else {
    if (pools.discretionary.total < amountNum) return 'discretionary_insufficient';
    pools.discretionary.total = round2(pools.discretionary.total - amountNum);
  }
  return 'ok';
}

function detectAssetType(desc) {
  const txt = (desc || '').toUpperCase();
  if (txt.includes('VWCE')) return 'vwce';
  if (txt.includes('CNDX')) return 'cndx';
  if (txt.includes('BTC')) return 'btc';
  return null;
}

function handleAddRecord() {
  if (!validateAmount(amount.value)) return alert('ËØ∑ËæìÂÖ•ÊúâÊïàÈáëÈ¢ù');
  const amountNum = round2(Number(amount.value));
  const desc = description.value || (recordType.value === 'income' ? 'Êî∂ÂÖ•' : 'ÊîØÂá∫');
  const assetType = detectAssetType(desc);

  const tx = {
    id: Date.now(),
    type: recordType.value,
    amount: amountNum,
    description: desc,
    pool: recordType.value === 'income' ? 'auto' : selectedPool.value,
    assetType: assetType,
    date: new Date().toLocaleString('zh-CN')
  };

  if (recordType.value === 'income') {
    applyIncome(amountNum, desc, assetType);
  } else {
    const res = applyExpense(amountNum, selectedPool.value, assetType);
    if (res !== 'ok') {
      if (res === 'development_insufficient') return alert('ÂèëÂ±ïÈáë‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ');
      if (res === 'discretionary_insufficient') return alert('ÂèØÊîØÈÖçÈáë‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ');
      if (res === 'subpool_insufficient') return alert('ÂØπÂ∫îÂ≠êÊ±†‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ');
    }
  }

  pushTransaction(tx);
  // reset inputs
  amount.value = null;
  description.value = '';
  page.value = 'home';
}

function handleCorrection() {
  if (!validateAmount(correctionAmount.value) && correctionAmount.value !== 0) return alert('ËØ∑ËæìÂÖ•‰øÆÊ≠£ÈáëÈ¢ù');
  const amt = round2(Number(correctionAmount.value));
  const tx = {
    id: Date.now(),
    type: 'correction',
    amount: amt,
    description: 'ËµÑ‰∫ß‰øÆÊ≠£',
    pool: correctionPool.value,
    date: new Date().toLocaleString('zh-CN')
  };
  if (correctionPool.value === 'development') {
    pools.development.total = amt;
  } else {
    pools.discretionary.total = amt;
  }
  pushTransaction(tx);
  correctionAmount.value = null;
  alert('ËµÑ‰∫ß‰øÆÊ≠£ÊàêÂäüÔºÅ');
}

function deleteTransaction(id) {
  if (!confirm('Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ËÆ∞ÂΩïÂêóÔºü')) return;
  transactions.value = transactions.value.filter(t => t.id !== id);
  saveAll();
}

async function handleChangePassword() {
  if (!newPassword.value || !confirmPassword.value) return alert('ËØ∑ËæìÂÖ•Êñ∞ÂØÜÁ†Å');
  if (newPassword.value !== confirmPassword.value) return alert('‰∏§Ê¨°ÂØÜÁ†Å‰∏ç‰∏ÄËá¥');
  storedHash.value = await hashString(newPassword.value);
  newPassword.value = '';
  confirmPassword.value = '';
  saveAll();
  alert('ÂØÜÁ†Å‰øÆÊîπÊàêÂäüÔºÅ');
}

function handleLogout() {
  if (!confirm('Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü')) return;
  isLoggedIn.value = false;
  page.value = 'home';
}

function exportData() {
  const payload = JSON.stringify({ pools: JSON.parse(JSON.stringify(pools)), stats: JSON.parse(JSON.stringify(stats)), transactions: transactions.value }, null, 2);
  const blob = new Blob([payload], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'smartledger_export.json';
  a.click();
  URL.revokeObjectURL(url);
}

function triggerImport() { importFile.value?.click(); }

function importData(e) {
  const file = e.target.files[0];
  if (!file) return;
  file.text().then(txt => {
    try {
      const d = JSON.parse(txt);
      if (d.pools) Object.assign(pools, d.pools);
      if (d.stats) Object.assign(stats, d.stats);
      if (d.transactions) transactions.value = d.transactions;
      saveAll();
      alert('ÂØºÂÖ•ÊàêÂäü');
    } catch (err) { alert('ÂØºÂÖ•Â§±Ë¥•ÔºöÊñá‰ª∂Ê†ºÂºèÈîôËØØ'); }
  });
}

// expose to template
const vm = {
  icons,
  page,
  isLoggedIn,
  password,
  showPassword,
  recordType,
  amount,
  description,
  selectedPool,
  newPassword,
  confirmPassword,
  correctionPool,
  correctionAmount,
  importFile,
  pools,
  stats,
  transactions,
  recentTransactions,
  totalAssets,
  totalSubPools,
  pageTitle,
  togglePassword,
  handleLogin,
  setPage,
  setRecordType,
  quickExpense,
  fillQuick,
  handleAddRecord,
  handleCorrection,
  deleteTransaction,
  handleChangePassword,
  handleLogout,
  exportData,
  importData,
  triggerImport,
  icons,
  iconFor,
  iconColor,
  amountColor,
  signFor,
  metaFor,
  subPoolClass
};
</script>

<style scoped>
/* base reset & typography (adapted from your original) */
*{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#f3f4f6;--accent:#4f46e5}
html,body,#app{height:100%}
body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg)}
.app{min-height:100vh}
.container{max-width:760px;margin:0 auto;display:flex;flex-direction:column;min-height:100vh}

/* login */
.login-page{min-height:100vh;background:linear-gradient(135deg,#dbeafe 0%,#c7d2fe 100%);display:flex;align-items:center;justify-content:center;padding:20px}
.login-card{background:#fff;border-radius:20px;padding:36px;box-shadow:0 10px 30px rgba(0,0,0,.08);width:100%;max-width:420px;text-align:center}
.login-icon{width:64px;height:64px;background:var(--accent);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;color:#fff}
.subtitle{color:#6b7280;margin-bottom:18px}
.hint{color:#9ca3af;font-size:14px;margin-top:20px}

/* header */
.header{background:linear-gradient(135deg,var(--accent) 0%,#7c3aed 100%);color:#fff;padding:48px 24px 24px;border-radius:0 0 24px 24px;box-shadow:0 4px 10px rgba(0,0,0,.06)}
.header h1{font-size:22px;margin:0}
.content{padding:20px;padding-bottom:110px;flex:1}
.card{background:#fff;border-radius:16px;padding:18px;box-shadow:0 2px 10px rgba(0,0,0,.04);margin-bottom:14px}
.asset-card{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.asset-amount{font-size:34px;font-weight:700;color:#111}

.pool-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:12px}
.pool-card{padding:18px;border-radius:14px;color:#fff}
.pool-green{background:linear-gradient(135deg,#34d399 0%,#10b981 100%)}
.pool-blue{background:linear-gradient(135deg,#60a5fa 0%,#3b82f6 100%)}
.pool-title{font-size:13px;opacity:.95;margin-bottom:8px}
.pool-amount{font-size:22px;font-weight:700}
.pool-subtitle{opacity:.8;font-size:12px}

.sub-pool-grid{display:flex;gap:12px;overflow-x:auto;padding-bottom:8px}
.sub-pool-card{min-width:150px;padding:14px;border-radius:12px;color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.05)}
.sub-pool-vwce{background:linear-gradient(135deg,#10b981 0%,#059669 100%)}
.sub-pool-cndx{background:linear-gradient(135deg,#34d399 0%,#10b981 100%)}
.sub-pool-btc{background:linear-gradient(135deg,#6ee7b7 0%,#34d399 100%)}
.sub-pool-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.sub-pool-name{font-size:14px;font-weight:600}
.sub-pool-amount{font-size:18px;font-weight:700;margin-bottom:6px}
.sub-pool-stats{font-size:12px;line-height:1.6}
.summary-line{color:#6b7280;font-size:13px;padding-top:12px;border-top:1px solid #eef2ff;margin-top:8px;text-align:center}

.card-title{font-size:16px;font-weight:700;color:#111;margin-bottom:12px}
.transaction-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f3f4f6}
.transaction-left{display:flex;align-items:center;gap:12px}
.transaction-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center}
.icon-green{background:#d1fae5;color:#10b981}
.icon-red{background:#fee2e2;color:#ef4444}
.icon-orange{background:#feedda;color:#f97316}
.transaction-info{flex:1}
.transaction-desc{font-weight:600;color:#111;margin-bottom:4px}
.transaction-date{font-size:12px;color:#9ca3af}
.transaction-amount{font-weight:700;font-size:16px}
.amount-green{color:#10b981}
.amount-red{color:#ef4444}
.amount-orange{color:#f97316}

.type-selector{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
.type-btn{padding:12px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
.active-green{background:#10b981;color:#fff;box-shadow:0 6px 18px rgba(16,185,129,.12)}
.active-red{background:#ef4444;color:#fff;box-shadow:0 6px 18px rgba(239,68,68,.12)}
.inactive{background:#f3f4f6;color:#6b7280}

.label{display:block;font-weight:700;color:#374151;margin-bottom:8px}
.amount-input-wrapper{position:relative}
.amount-symbol{position:absolute;left:12px;top:12px;font-size:18px;color:#9ca3af}
.amount-input{padding-left:40px;font-size:18px;padding:12px;border:2px solid #eef2ff;border-radius:10px;width:100%}

.quick-buttons{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px}
.quick-btn{padding:10px;border:2px solid #e5e7eb;background:#fff;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer}
.quick-btn:active{transform:scale(.98)}
.quick-btn-vwce{border-color:#10b981;color:#10b981}
.quick-btn-cndx{border-color:#34d399;color:#059669}
.quick-btn-btc{border-color:#6ee7b7;color:#047857}

.bottom-nav{position:fixed;bottom:8px;left:0;right:0;max-width:760px;margin:0 auto;background:#fff;border-top:1px solid #e5e7eb;box-shadow:0 -6px 18px rgba(0,0,0,.04);display:grid;grid-template-columns:repeat(5,1fr);padding:8px;gap:6px;border-radius:12px}
.nav-btn{display:flex;flex-direction:column;align-items:center;padding:8px;border:none;background:none;border-radius:8px;cursor:pointer;color:#9ca3af}
.nav-btn.active{background:#eef2ff;color:var(--accent)}
.nav-label{font-size:11px;margin-top:4px}

.history-card{background:#fff;border-radius:12px;padding:12px;margin-bottom:10px;box-shadow:0 2px 8px rgba(0,0,0,.04)}
.history-content{display:flex;justify-content:space-between}
.history-left{display:flex;gap:12px;flex:1}
.history-details{flex:1}
.history-title{font-weight:700;color:#111;margin-bottom:4px}
.history-meta{font-size:12px;color:#9ca3af;margin-top:4px}
.delete-btn{background:none;border:none;color:#9ca3af;cursor:pointer;padding:8px}
.delete-btn:hover{color:#ef4444}

.info-box{background:#dbeafe;border:1px solid #93c5fd;border-radius:12px;padding:12px;margin-bottom:12px}
.info-text{color:#1e40af;line-height:1.6}

.form-row{margin-bottom:10px}
.btn{width:100%;padding:12px;border-radius:10px;border:none;font-size:16px;font-weight:700;cursor:pointer}
.btn-primary{background:var(--accent);color:#fff}
.btn-green{background:#10b981;color:#fff}
.btn-red{background:#ef4444;color:#fff}
.btn-orange{background:#f97316;color:#fff}

.empty-state{text-align:center;padding:24px;color:#9ca3af}
.muted{color:#6b7280}

/* small responsiveness */
@media(min-width:900px){.container{padding-top:20px}.content{padding-bottom:140px}}
</style>
